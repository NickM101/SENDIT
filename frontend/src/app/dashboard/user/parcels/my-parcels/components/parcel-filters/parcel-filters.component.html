<!-- src/app/dashboard/user/parcels/my-parcels/components/parcel-filters/parcel-filters.component.html -->
<div class="space-y-4">
    <!-- Quick Filters -->
    <div class="flex flex-wrap gap-2">
        <button *ngFor="let filter of quickFilters" (click)="applyQuickFilter(filter)"
            class="inline-flex items-center px-3 py-1.5 border border-gray-300 text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-600">
            {{ filter.label }}
        </button>
    </div>

    <form [formGroup]="filterForm" class="space-y-4">
        <!-- Search and Basic Filters Row -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
            <!-- Search -->
            <div class="relative">
                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                    <lucide-icon name="search" class="h-5 w-5 text-gray-400"></lucide-icon>
                </div>
                <input formControlName="search" type="text" placeholder="Search by tracking number..."
                    class="block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
            </div>

            <!-- Status Filter -->
            <div>
                <select formControlName="status"
                    class="block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
                    <option *ngFor="let option of statusOptions" [value]="option.value">
                        {{ option.label }}
                    </option>
                </select>
            </div>

            <!-- Advanced Filters Toggle -->
            <div class="flex items-center space-x-2">
                <button type="button" (click)="toggleAdvancedFilters()"
                    class="inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-600">
                    <lucide-icon name="filter" class="w-4 h-4 mr-2"></lucide-icon>
                    Filters
                    <lucide-icon [name]="showAdvancedFilters ? 'chevron-up' : 'chevron-down'"
                        class="w-4 h-4 ml-2"></lucide-icon>
                </button>

                <!-- Clear Filters -->
                <button *ngIf="hasActiveFilters" type="button" (click)="clearFilters()"
                    class="inline-flex items-center px-3 py-2 text-sm leading-4 font-medium text-red-600 hover:text-red-500 focus:outline-none dark:text-red-400 dark:hover:text-red-300">
                    <lucide-icon name="x" class="w-4 h-4 mr-1"></lucide-icon>
                    Clear
                </button>
            </div>
        </div>

        <!-- Advanced Filters (Collapsible) -->
        <div *ngIf="showAdvancedFilters" class="border-t border-gray-200 dark:border-gray-600 pt-4 space-y-4"
            [@slideInOut]>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <!-- Package Type -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">
                        Package Type
                    </label>
                    <select formControlName="packageType"
                        class="block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
                        <option *ngFor="let option of packageTypeOptions" [value]="option.value">
                            {{ option.label }}
                        </option>
                    </select>
                </div>

                <!-- Delivery Type -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">
                        Delivery Type
                    </label>
                    <select formControlName="deliveryType"
                        class="block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
                        <option *ngFor="let option of deliveryTypeOptions" [value]="option.value">
                            {{ option.label }}
                        </option>
                    </select>
                </div>
            </div>

            <!-- Date Range -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">
                        Start Date
                    </label>
                    <div class="relative">
                        <input formControlName="startDate" type="date"
                            class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
                        <div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
                            <lucide-icon name="calendar" class="h-5 w-5 text-gray-400"></lucide-icon>
                        </div>
                    </div>
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">
                        End Date
                    </label>
                    <div class="relative">
                        <input formControlName="endDate" type="date"
                            class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
                        <div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
                            <lucide-icon name="calendar" class="h-5 w-5 text-gray-400"></lucide-icon>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>